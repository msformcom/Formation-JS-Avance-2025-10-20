{"version":3,"file":"calcul-complexe.worker.js","sources":["scripts/calcul-complexe.worker.js"],"sourcesContent":["// Code de worker => thread secondaire\n// pas d'accès au DOM\n// pas d'accès aux variables globales de la page principale\n// communication par messages (postMessage / onmessage)\nself.addEventListener(\"message\", function (e) {\n    // e est sérialisable => pas de fonctions ou d'objets complexes\n    let a = e.data.a;\n    let b = e.data.b;\n    let r = 0;\n    for (let i = 0; i < a; i++) {\n        if (i % 10000000 == 0) {\n            this.postMessage({ progress: (i / a * 50).toFixed(2) });\n        }\n        r++;\n    }\n    for (let i = 0; i < b; i++) {\n        if (i % 10000000 == 0) {\n            this.postMessage({ progress: (i / a * 50).toFixed(2) });\n        }\n        r++;\n    }\n    this.postMessage({ result: r });\n});\n\n"],"names":["self","addEventListener","e","let","a","data","b","r","i","this","postMessage","progress","toFixed","result"],"mappings":"AAIAA,KAAKC,iBAAiB,UAAW,SAAUC,GAEvCC,IAAIC,EAAIF,EAAEG,KAAKD,EACXE,EAAIJ,EAAEG,KAAKC,EACfH,IAAII,EAAI,EACR,IAAKJ,IAAIK,EAAI,EAAGA,EAAIJ,EAAGI,CAAC,GAChBA,EAAI,KAAY,GAChBC,KAAKC,YAAY,CAAEC,UAAWH,EAAIJ,EAAI,IAAIQ,QAAQ,CAAC,CAAE,CAAC,EAE1DL,CAAC,GAEL,IAAKJ,IAAIK,EAAI,EAAGA,EAAIF,EAAGE,CAAC,GAChBA,EAAI,KAAY,GAChBC,KAAKC,YAAY,CAAEC,UAAWH,EAAIJ,EAAI,IAAIQ,QAAQ,CAAC,CAAE,CAAC,EAE1DL,CAAC,GAELE,KAAKC,YAAY,CAAEG,OAAQN,CAAE,CAAC,CAClC,CAAC"}